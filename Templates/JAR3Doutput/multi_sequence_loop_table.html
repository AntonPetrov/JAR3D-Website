{% comment %}
<table class="table table-striped table-condensed table-bordered">
  <thead>
    <tr>
      <th>#</th>
      <th>Motif</th>
      <th>Mean Alignment Score</th>
      <th>Median Alignment Score</th>
      <th>Mean Percentile</th>
      <th>Median Percentile</th>
      <th>Mean Edit Distance</th>
      <th>Median Edit Distance</th>
    </tr>
  </thead>
  <tbody>
  {% for result in loop %}
  <tr>
    <td>{{ forloop.counter }}</td>
    <td class="hover-link">
      <input type='radio' name="group" id='s{{ forloop.parentloop.counter }}-{{ forloop.counter }}'
             class='jmolInline' data-coord='{{ result.motif_id }}'>
      <label for='s{{ forloop.parentloop.counter }}-{{ forloop.counter }}'>{{ result.motif_id }}</label>
      <span class="hover-link-icon">
        <a href="{{ result.motif_url }}" target="_blank">&rarr;</a>
      </span>
        <a class="fancybox" rel="gallery" href="{{ result.ssurl }}"
           title="Loop {{ forloop.parentloop.counter }} - Hit {{ forloop.counter }} - Motif {{ result.motif_id }}">
            <img class="ss-thumbnail" src="{{ result.ssurl }}"></img>
        </a>
    </td>
    <td>{{ result.meanscore|floatformat:4 }}</td>
    <td>{{ result.medianscore|floatformat:4 }}</td>
    <td>{{ result.meanpercentile|floatformat:2 }}</td>
    <td>{{ result.medianpercentile|floatformat:2 }}</td>
    <td>{{ result.meaneditdist|floatformat|default:"Not Computed" }}</td>
    <td>{{ result.medianeditdist|floatformat|default:"Not Computed" }}</td>
  </tr>
  {% endfor %}
  </tbody>
</table>
{% endcomment %}

{% for result in loop.matches %}

{% if forloop.counter|divisibleby:2 %}
<div class="loop-result even-result row span7">
{% else %}
<div class="loop-result odd-result row span7">
{% endif %}

  <div class="hover-link">
    <h4>{{ result.motif_id }}
      <a class="hover-link-icon" href="{{ result.motif_url }}" target="_blank">&rarr;</a>
    </h4>
  </div>
  <div class="span2">
    <a class="fancybox" rel="gallery" href="{{ result.ssurl }}"
       title="Loop {{ forloop.parentloop.counter }} - Hit {{ forloop.counter }} - Motif {{ result.motif_id }}">
        <img class="ss-thumbnail" src="{{ result.ssurl }}"></img>
    </a>
  </div>

  <div class="span4">
    <span>
      <strong class="span2">Rank</strong>
      {{ forloop.counter }}
    </span>
  </div>

  <div class="span4">
    <span>
      <strong class="span2">Mean Score</strong>
      {{ result.meanscore|floatformat:4 }}
    </span>
  </div>

  <div class="span4">
    <span>
      <strong class="span2">Median Score</strong>
      {{ result.medianscore|floatformat:4 }}
    </span>
  </div>

  <div class="span4">
    <span>
      <strong class="span2">Mean Percentile</strong>
      {{ result.meanpercentile|floatformat:2 }}
    </span>
  </div>

  <div class="span4">
    <span>
      <strong class="span2">Median Percentile</strong>
      {{ result.medianpercentile|floatformat:2 }}
    </span>
  </div>

  {% if result.meaneditdist != None %}
  <div class="span4">
    <span>
      <strong class="span2">Mean Edit Distance</strong>
      {{ result.meaneditdist|default:0 }}
    </span>
  </div>

  <div class="span4">
    <span>
      <strong class="span2">Media Edit Distance</strong>
      {{ result.medianeditdist|default:0 }}
    </span>
  </div>
  {% endif %}

</div>

{% endfor %}

{% comment %}
  vim: ft=htmldjango
{% endcomment %}
